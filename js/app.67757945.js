(function(e){function t(t){for(var r,s,i=t[0],c=t[1],l=t[2],u=0,m=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&m.push(n[s][0]),n[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(m.length)m.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,i=1;i<a.length;i++){var c=a[i];0!==n[c]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=a[0]))}return e}var r={},n={app:0},o=[];function s(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=r,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/Canteen-Management/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=c;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"32bb":function(e,t,a){e.exports=a.p+"img/canteen.4f9a2d9f.jpg"},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("v-app",{attrs:{id:"inspire"}},[a("router-view"),a("footerbar")],1)],1)},o=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-footer",{attrs:{app:"","clipped-left":"",fixed:!0,padless:!0}},[a("v-card",{staticClass:"grey darken-1 text-center",attrs:{flat:"",tile:"",width:"100%"}},[a("v-card-text",{staticClass:"white--text"},[e._v(" "+e._s((new Date).getFullYear())+" â€” "),a("strong",[e._v("Prabin Acharya")])])],1)],1)},i=[],c=a("2877"),l=a("6544"),d=a.n(l),u=a("b0af"),m=a("99d9"),h=a("553a"),f={},v=Object(c["a"])(f,s,i,!1,null,null,null),p=v.exports;d()(v,{VCard:u["a"],VCardText:m["b"],VFooter:h["a"]});var g={name:"App",components:{footerbar:p}},b=g,I=a("7496"),y=Object(c["a"])(b,n,o,!1,null,null,null),_=y.exports;d()(y,{VApp:I["a"]});var x=a("9483");Object(x["a"])("".concat("/Canteen-Management/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var k=a("8c4f"),V=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"Login"},[r("v-content",[r("v-img",{attrs:{src:a("32bb"),gradient:"to top right, rgba(255,255,255,.7), rgba(19,199,243,.33)",height:"100vh"}},[r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[r("v-card",{staticClass:"elevation-12",attrs:{height:"auto"}},[r("v-toolbar",{attrs:{flat:""}},[r("v-spacer"),r("h3",{staticStyle:{opacity:"0.75",color:"#1976d2","text-transform":"uppercase","font-size":"1.5rem"}},[e._v("Canteen Management System")])],1),r("hr",{attrs:{color:"blue"}}),r("v-card-text",[r("v-form",{on:{submit:function(t){return e.login()}}},[r("br"),r("v-text-field",{attrs:{type:"text",label:"Username"},model:{value:e.input.username,callback:function(t){e.$set(e.input,"username",t)},expression:"input.username"}}),r("v-text-field",{attrs:{type:"password",label:"Password"},model:{value:e.input.password,callback:function(t){e.$set(e.input,"password",t)},expression:"input.password"}}),r("br"),r("v-card-actions",[r("v-btn",{attrs:{block:"",color:"primary",type:"submit"}},[e._v("Login")])],1)],1)],1)],1)],1)],1)],1)],1),r("v-snackbar",{attrs:{right:"",timeout:2e3,color:"red lighten-1",top:""},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("The username and/or password is incorrect "),r("v-icon",{attrs:{dark:""},on:{click:function(t){e.snackbar=!1}}},[e._v("mdi-close")])],1)],1)],1)},w=[],S=(a("ac1f"),a("5319"),{name:"Login",data:function(){return{input:{username:"",password:""},user:[],role:[],snackbar:!1}},methods:{login:function(){var e=this;this.$axios.post("http://127.0.0.1:8000/token-auth/",{username:this.input.username,password:this.input.password}).then((function(t){t.data&&(e.user=t.data.token,e.role=t.data,localStorage.setItem("userdetails",JSON.stringify(t.data.token)),!0===t.data.user.is_superuser?localStorage.setItem("pageDetails","Admin"):t.data.user.username&&(localStorage.setItem("pageDetails","User"),localStorage.setItem("userCredentials",t.data.user.id))),e.$router.replace({name:"home"})})).catch((function(t){e.snackbar=!0}))}}}),C=S,E=a("8336"),O=a("62ad"),$=a("a523"),T=a("a75b"),j=a("4bd4"),D=a("132d"),A=a("adda"),M=a("0fd9"),R=a("2db4"),L=a("2fa4"),N=a("8654"),F=a("71d9"),P=Object(c["a"])(C,V,w,!1,null,null,null),B=P.exports;d()(P,{VBtn:E["a"],VCard:u["a"],VCardActions:m["a"],VCardText:m["b"],VCol:O["a"],VContainer:$["a"],VContent:T["a"],VForm:j["a"],VIcon:D["a"],VImg:A["a"],VRow:M["a"],VSnackbar:R["a"],VSpacer:L["a"],VTextField:N["a"],VToolbar:F["a"]});var U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"homepage"}},["Admin"===this.role?a("adminHome"):e._e(),"User"===this.role?a("userHome"):e._e()],1)},H=[],J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Navigationbar"),a("v-content",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12",attrs:{height:"450px"}},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Add New")])],1),a("v-card-text",[a("newAdd")],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"8",md:"8"}},[a("v-card",{staticClass:"elevation-12",attrs:{height:"auto"}},[a("addItems")],1)],1)],1)],1)],1)],1)},Y=[],q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-app-bar",{attrs:{app:"","clipped-left":"",color:"grey lighten-2",flat:"",tile:""}},[a("v-app-bar-nav-icon"),a("v-toolbar-title",[e._v(e._s(this.role))]),a("v-spacer"),"Admin"===this.role?a("v-btn",{attrs:{depressed:"",color:"grey lighten-2",to:"/adminhome"}},[e._v("Home")]):e._e(),"Admin"===this.role?a("v-btn",{attrs:{depressed:"",color:"grey lighten-2",to:"/viewmenu"}},[e._v("Menu List")]):e._e(),"Admin"===this.role?a("v-btn",{attrs:{depressed:"",color:"grey lighten-2",to:"/vieworder"}},[e._v("View Order")]):e._e(),"User"===this.role?a("v-btn",{attrs:{depressed:"",color:"grey lighten-2",to:"/userhome"}},[e._v("Home")]):e._e(),a("v-btn",{attrs:{depressed:"",color:"grey lighten-2"},on:{click:function(t){return e.logout()}}},[e._v("Logout")])],1)],1)},z=[],W={data:function(){return{role:[]}},mounted:function(){this.role=localStorage.getItem("pageDetails")},methods:{logout:function(){this.$router.replace({name:"login"}),localStorage.clear()}}},G=W,K=a("40dc"),Q=a("5bc1"),X=a("2a7f"),Z=Object(c["a"])(G,q,z,!1,null,null,null),ee=Z.exports;d()(Z,{VAppBar:K["a"],VAppBarNavIcon:Q["a"],VBtn:E["a"],VSpacer:L["a"],VToolbarTitle:X["a"]});var te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"menuList"}},[a("v-snackbar",{attrs:{right:"",timeout:2e3,color:"red",top:""},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(e._s(e.msg)+" "),a("v-icon",{attrs:{dark:""},on:{click:function(t){e.snackbar=!1}}},[e._v("mdi-close")])],1),a("v-card",[a("v-card-title",[e._v("FoodList "),a("v-spacer"),a("v-col",{attrs:{md:"3"}},[a("v-text-field",{attrs:{label:"Search",solo:"",filled:"",rounded:"","hide-details":"",dense:"",clearable:"",flat:"","prepend-inner-icon":"mdi-magnify"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,search:e.search,"fixed-header":"",height:"300px"},scopedSlots:e._u([{key:"item.action",fn:function(t){var r=t.item;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.handleRemove(r.id)}}},[e._v("mdi-delete")])]}}])})],1)],1)},ae=[],re=(a("d3b7"),a("96cf"),a("1da1")),ne={data:function(){return{snackbar:!1,search:"",headers:[{text:"Item Name",align:"left",value:"name"},{text:"Actions",align:"right",value:"action",sortable:!1}],msg:""}},methods:{removeElement:function(e){this.$store.dispatch("removeItem",e)},loadItems:function(){this.$store.dispatch("loadItems")},handleRemove:function(){var e=Object(re["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.removeElement(t);case 2:return this.msg="Removing item... ",this.snackbar=!0,e.next=6,new Promise((function(e){return setTimeout(e,300)}));case 6:window.history.go();case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},computed:{items:function(){return this.$store.getters.items}},mounted:function(){this.$store.dispatch("loadItems")}},oe=ne,se=a("8fea"),ie=Object(c["a"])(oe,te,ae,!1,null,null,null),ce=ie.exports;d()(ie,{VCard:u["a"],VCardTitle:m["c"],VCol:O["a"],VDataTable:se["a"],VIcon:D["a"],VSnackbar:R["a"],VSpacer:L["a"],VTextField:N["a"]});var le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"column"},[a("v-form",{on:{submit:e.addEntry}},[a("br"),a("v-text-field",{attrs:{label:"What do you want to add?",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("br"),a("v-card-actions",[a("v-btn",{attrs:{type:"submit",block:""}},[e._v("Add")])],1),a("v-snackbar",{attrs:{right:"",timeout:2e3,color:e.color,top:""},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(e._s(e.text)+" "),a("v-icon",{attrs:{dark:""},on:{click:function(t){e.snackbar=!1}}},[e._v("mdi-close")])],1)],1)],1)},de=[],ue=(a("b0c0"),{name:"column",data:function(){return{name:name,snackbar:!1,text:[],color:""}},methods:{addEntry:function(){var e=Object(re["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==this.name){e.next=6;break}this.snackbar=!0,this.text="Enter something to add",this.color="red",e.next=15;break;case 6:return e.next=8,this.$store.dispatch("addItem",this.name);case 8:return this.name="",this.text="Adding Item..",this.color="blue",this.snackbar=!0,e.next=14,new Promise((function(e){return setTimeout(e,300)}));case 14:window.history.go();case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}}),me=ue,he=Object(c["a"])(me,le,de,!1,null,null,null),fe=he.exports;d()(he,{VBtn:E["a"],VCardActions:m["a"],VForm:j["a"],VIcon:D["a"],VSnackbar:R["a"],VTextField:N["a"]});var ve={data:function(){return{role:[]}},components:{Navigationbar:ee,addItems:ce,newAdd:fe},mounted:function(){this.role=localStorage.getItem("pageDetails"),localStorage.getItem("userdetails")||this.$router.replace({name:"login"})}},pe=ve,ge=Object(c["a"])(pe,J,Y,!1,null,null,null),be=ge.exports;d()(ge,{VCard:u["a"],VCardText:m["b"],VCol:O["a"],VContainer:$["a"],VContent:T["a"],VRow:M["a"],VToolbar:F["a"],VToolbarTitle:X["a"]});var Ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Navigationbar"),a("selectItems")],1)},ye=[],_e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"menuList"}},[a("v-content",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"9"}},[a("v-card",{staticClass:"elevation-12",attrs:{height:"auto"}},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Items for the date of "+e._s(e.dateToday))])],1),a("hr",{attrs:{color:"blue"}}),a("v-card-text",[a("v-simple-table",{attrs:{"fixed-header":"",height:"350px"}},[[a("thead",[a("tr",[a("th",[e._v("Id")]),a("th",[e._v("Name of items")])])]),a("tbody",e._l(e.todaysmenu,(function(t){return a("tr",{key:t.id,staticStyle:{cursor:"pointer"},on:{click:function(a){return e.selectElement(t)}}},[a("td",[e._v(" "+e._s(t.id)+" ")]),a("td",[e._v(" "+e._s(t.name)+" ")])])})),0)]],2)],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"8",md:"3"}},[a("v-card",{staticClass:"elevation-12",attrs:{height:"450px"}},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Your Ordered Item")])],1),a("hr",{attrs:{color:"blue"}}),a("v-card-text",[e._l(e.selectedItem,(function(t){return a("div",{key:t.id},[a("pre",{attrs:{slot:"text-align:center"},slot:"text-align:center"},[a("h1",[e._v(" "+e._s(t.name)+" ")]),e._v(" ")]),a("v-btn",{attrs:{block:"",depressed:""},on:{click:function(a){return e.addModal(t)}}},[e._v(" Verify ")])],1)})),a("h3",{staticStyle:{color:"green"}},[e._v(" "+e._s(e.selectedMessage)+" ")]),a("h3",{staticStyle:{color:"red"}},[e._v(" "+e._s(e.msg)+" ")])],2)],1)],1)],1)],1)],1)],1)},xe=[],ke=(a("4160"),a("fb6a"),a("a434"),a("159b"),a("bf19"),{name:"menuList",data:function(){return{todaysmenu:[],dateToday:"",selectedItem:[],verifiedStatus:!1,msg:"",selectedMessage:""}},methods:{selectElement:function(e){this.selectedItem.unshift(e),this.selectedItem.splice(1,1)},addModal:function(e){if(this.checkOrder(),!1===this.verifiedStatus){alert("Your selected item is "+e.name);var t=localStorage.getItem("userCredentials"),a=e.id,r=this.dateToday;this.$store.dispatch("setOrder",{orderUser:t,orderItem:a,orderDate:r}),this.verifiedStatus=!0,this.msg="",this.selectedMessage="Verified Selection :"+e.name}else this.msg="An item is already registered in your name for the date"},checkOrder:function(){var e=this;this.order.forEach((function(t){t.date===e.dateToday&&t.user==localStorage.getItem("userCredentials")&&(e.verifiedStatus=!0)}))},checkDate:function(){var e=this;this.dateToday=(new Date).toJSON().slice(0,10);for(var t=0;t<this.items.length;t++)if(this.items[t].date===this.dateToday)for(var a=0;a<=this.items[t].food_item.length;a++)this.foodItems.forEach((function(r){e.items[t].food_item[a]===r.id&&e.todaysmenu.push(r)}))}},computed:{items:function(){return this.$store.getters.userItems},foodItems:function(){return this.$store.getters.items},order:function(){return this.$store.getters.order}},mounted:function(){this.$store.dispatch("loadItems"),this.$store.dispatch("getOrder"),this.$store.dispatch("loadSelectedItems"),this.checkDate(),localStorage.getItem("userdetails")||this.$router.replace({name:"login"})}}),Ve=ke,we=a("1f4f"),Se=Object(c["a"])(Ve,_e,xe,!1,null,null,null),Ce=Se.exports;d()(Se,{VBtn:E["a"],VCard:u["a"],VCardText:m["b"],VCol:O["a"],VContainer:$["a"],VContent:T["a"],VRow:M["a"],VSimpleTable:we["a"],VToolbar:F["a"],VToolbarTitle:X["a"]});var Ee={data:function(){return{role:[]}},components:{Navigationbar:ee,selectItems:Ce},mounted:function(){this.role=localStorage.getItem("pageDetails"),localStorage.getItem("userdetails")||this.$router.replace({name:"login"})}},Oe=Ee,$e=Object(c["a"])(Oe,Ie,ye,!1,null,null,null),Te=$e.exports,je={name:"homepage",data:function(){return{role:[]}},components:{adminHome:be,userHome:Te},mounted:function(){this.role=localStorage.getItem("pageDetails"),localStorage.getItem("userdetails")||this.$router.replace({name:"login"})}},De=je,Ae=Object(c["a"])(De,U,H,!1,null,null,null),Me=Ae.exports,Re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Navigationbar"),a("v-content",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"12"}},[a("v-card",{staticClass:"elevation-12",attrs:{height:"auto"}},[a("selectMenus")],1)],1)],1)],1)],1)],1)},Le=[],Ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"menuList"}},[a("v-snackbar",{attrs:{right:"",timeout:2e3,color:e.color,top:""},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(e._s(e.text)+" "),a("v-icon",{attrs:{dark:""},on:{click:function(t){e.snackbar=!1}}},[e._v("mdi-close")])],1),a("v-card-title",[e._v("Date "),a("v-menu",{ref:"menu1",attrs:{"close-on-content-click":!0,transition:"scale-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-col",{attrs:{md:"2"}},[a("v-spacer"),a("v-text-field",e._g({attrs:{solo:"",filled:"","hide-details":"",rounded:"",dense:"",flat:""},on:{blur:function(t){e.date=e.parseDate(e.dateFormatted)}},model:{value:e.dateFormatted,callback:function(t){e.dateFormatted=t},expression:"dateFormatted"}},r))],1)]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(t){return e.checkItems(e.date)}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("v-spacer"),a("v-col",{attrs:{md:"2"}},[a("v-text-field",{attrs:{label:"Search",solo:"",filled:"",rounded:"","hide-details":"",dense:"",clearable:"",flat:"","prepend-inner-icon":"mdi-magnify"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-btn",{attrs:{tile:"",depressed:""},on:{click:function(t){return e.pushItems(e.date)}}},[e._v(" Verify ")])],1),a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"6"}},[a("v-card",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,search:e.search,"fixed-header":"",height:"300px"},scopedSlots:e._u([{key:"item.name",fn:function(t){var r=t.item;return[a("p",{on:{click:function(t){return e.selectElement(r)}}},[e._v(e._s(r.name))])]}}])})],1)],1),a("v-spacer"),a("v-col",{attrs:{cols:"12",sm:"8",md:"6"}},[a("v-card",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.header,items:e.displayarray,"fixed-header":"",height:"300px"},scopedSlots:e._u([{key:"item.action",fn:function(t){var r=t.item;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.removeItem(r.id)}}},[e._v("mdi-delete")])]}}])})],1)],1)],1)],1)],1)},Fe=[],Pe=(a("99af"),a("4de4"),a("caad"),a("2532"),a("3ca3"),a("4d90"),a("841c"),a("1276"),a("ddb0"),a("3835")),Be=a("bc3a"),Ue=a.n(Be),He=Ue.a.create({headers:{Authorization:localStorage.getItem("userdetails")}}),Je={name:"menuList",data:function(){return{snackbar:!1,selectItem:[],dateToday:"",anyDate:"",item:"",displayarray:[],idOfItem:"",dateMatch:"",counter:"",search:"",searchItems:[],date:(new Date).toISOString().substr(0,10),dateFormatted:this.formatDate((new Date).toISOString().substr(0,10)),menu1:!1,menu2:!1,headers:[{text:"Items Available",align:"left",value:"name"},{align:"right",value:"action",sortable:!1}],header:[{text:"Menu",align:"left",value:"name"},{align:"right",value:"action",sortable:!1}]}},methods:{selectElement:function(e){this.search="",this.searchItems.splice(0,this.searchItems.length);var t=this.isExist(e.id);"exists"===t?(this.snackbar=!0,this.color="red",this.text="Item already added"):(this.selectItem.push(e.id),this.displayarray.push(e))},throwDate:function(e){this.anyDate=this.date},removeItem:function(e){this.displayarray=this.displayarray.filter((function(t){return t.id!==e})),this.selectItem=this.selectItem.filter((function(t){return t!==e}))},isExist:function(e){for(var t=0;t<this.selectItem.length;t++)if(this.selectItem[t]===e)return"exists"},dateExist:function(e){var t=this;this.existingMenu.forEach((function(a){a.date===e&&(t.dateMatch="match",t.idOfItem=a.id)}))},pushItems:function(e){var t=this.selectItem;this.dateExist(e),"match"===this.dateMatch?He.put("http://127.0.0.1:8000/myapp/menu/"+this.idOfItem,{date:e,food_item:t}):He.post("http://127.0.0.1:8000/myapp/menu/",{date:e,food_item:t}),this.snackbar=!0,this.color="green",this.text="success"},checkItems:function(e){var t=this;this.counter="doesntExist",this.existingMenu.forEach((function(a){a.date===e&&(t.selectItem.splice(0,t.selectItem.length),t.displayarray.splice(0,t.displayarray.length),a.food_item.forEach((function(e){return t.selectItem.push(e)})),t.counter="dateExists",t.foodname(a.food_item))})),"dateExists"!==this.counter&&(this.selectItem.splice(0,this.selectItem.length),this.displayarray.splice(0,this.displayarray.length))},foodname:function(e){var t=this;e.forEach((function(e){t.items.forEach((function(a){e===a.id&&t.displayarray.push(a)}))}))},reload:function(){window.history.go()},filteredItems:function(){var e=this;""===this.search?this.searchItems.splice(0,this.searchItems.length):this.searchItems=this.items.filter((function(t){return t.name.toLowerCase().includes(e.search.toLowerCase())}))},formatDate:function(e){if(!e)return null;var t=e.split("-"),a=Object(Pe["a"])(t,3),r=a[0],n=a[1],o=a[2];return"".concat(n,"/").concat(o,"/").concat(r)},parseDate:function(e){if(!e)return null;var t=e.split("/"),a=Object(Pe["a"])(t,3),r=a[0],n=a[1],o=a[2];return"".concat(o,"-").concat(r.padStart(2,"0"),"-").concat(n.padStart(2,"0"))}},watch:{date:function(e){this.dateFormatted=this.formatDate(this.date)}},computed:{items:function(){return this.$store.getters.items},existingMenu:function(){return this.$store.getters.userItems},computedDateFormatted:function(){return this.formatDate(this.date)}},mounted:function(){Promise.all([this.$store.dispatch("loadItems"),this.$store.dispatch("loadSelectedItems")]).then(this.checkItems((new Date).toJSON().slice(0,10)),this.dateToday=(new Date).toJSON().slice(0,10).replace(/-/g,"/"))}},Ye=Je,qe=a("2e4b"),ze=a("e449"),We=Object(c["a"])(Ye,Ne,Fe,!1,null,null,null),Ge=We.exports;d()(We,{VBtn:E["a"],VCard:u["a"],VCardTitle:m["c"],VCol:O["a"],VContainer:$["a"],VDataTable:se["a"],VDatePicker:qe["a"],VIcon:D["a"],VMenu:ze["a"],VRow:M["a"],VSnackbar:R["a"],VSpacer:L["a"],VTextField:N["a"]});var Ke={data:function(){return{role:[]}},components:{Navigationbar:ee,selectMenus:Ge},mounted:function(){this.role=localStorage.getItem("pageDetails"),localStorage.getItem("userdetails")||this.$router.replace({name:"login"})}},Qe=Ke,Xe=Object(c["a"])(Qe,Re,Le,!1,null,null,null),Ze=Xe.exports;d()(Xe,{VCard:u["a"],VCol:O["a"],VContainer:$["a"],VContent:T["a"],VRow:M["a"]});var et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Navigationbar"),a("v-content",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"12"}},[a("v-card",{staticClass:"elevation-12",attrs:{height:"auto"}},[a("orderedItems")],1)],1)],1)],1)],1)],1)},tt=[],at=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"menuList"}},[a("v-card",[a("v-card-title",[e._v("OrderList "),a("v-spacer"),a("v-col",{attrs:{md:"3"}},[a("v-text-field",{attrs:{label:"Search",solo:"",filled:"",rounded:"","hide-details":"",dense:"",clearable:"",flat:"","prepend-inner-icon":"mdi-magnify"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.orderList,search:e.search,"fixed-header":"",height:"300px"},scopedSlots:e._u([{key:"item.action",fn:function(t){var r=t.item;return[a("v-icon",{attrs:{small:"",color:"red darken-1"},on:{click:function(t){return e.handleRemove(r.id)}}},[e._v("mdi-delete")])]}}])})],1)],1)},rt=[],nt=(a("c975"),{data:function(){return{search:"",headers:[{text:"user",value:"user"},{text:"Item Name",value:"name"},{text:"date",value:"date"},{text:"Actions",value:"action",sortable:!1}],orderList:[]}},methods:{foodname:function(){var e=this;this.order.forEach((function(t){e.foodItems.forEach((function(a){a.id===t.menu_item&&e.orderList.push({id:t.id,date:t.date,user:t.user,name:a.name})}))}))},handleRemove:function(e){var t=this.orderList.indexOf(e);this.orderList.splice(t,1),e=e.id,this.$store.dispatch("doneOrder",e)}},computed:{order:function(){return this.$store.getters.order},foodItems:function(){return this.$store.getters.items}},created:function(){Promise.all([this.$store.dispatch("getOrder"),this.$store.dispatch("loadItems"),this.$store.dispatch("loadSelectedItems")]).then(this.foodname())}}),ot=nt,st=Object(c["a"])(ot,at,rt,!1,null,null,null),it=st.exports;d()(st,{VCard:u["a"],VCardTitle:m["c"],VCol:O["a"],VDataTable:se["a"],VIcon:D["a"],VSpacer:L["a"],VTextField:N["a"]});var ct={data:function(){return{role:[]}},components:{Navigationbar:ee,orderedItems:it},mounted:function(){this.role=localStorage.getItem("pageDetails"),localStorage.getItem("userdetails")||this.$router.replace({name:"login"})}},lt=ct,dt=Object(c["a"])(lt,et,tt,!1,null,null,null),ut=dt.exports;d()(dt,{VCard:u["a"],VCol:O["a"],VContainer:$["a"],VContent:T["a"],VRow:M["a"]}),r["a"].use(k["a"]);var mt=new k["a"]({routes:[{path:"/",redirect:{name:"login"}},{path:"/login",name:"login",component:B},{path:"/home",name:"home",component:Me},{path:"/adminhome",name:"adminhome",component:be},{path:"/viewmenu",name:"viewmenu",component:Ze},{path:"/vieworder",name:"vieworder",component:ut},{path:"/userhome",name:"userhome",component:Te}]}),ht=a("2f62");r["a"].use(ht["a"]);var ft=new ht["a"].Store({state:{allItems:[],userItems:[],order:[]},mutations:{complete_add:function(e,t){He.post("http://127.0.0.1:8000/myapp/fooditem/",{name:t.name})},orderEntry:function(e,t){console.log("suru",t.dateEntry,t.userId,t.foodId),He.post("http://127.0.0.1:8000/myapp/order/",{date:t.dateEntry,menu_item:t.foodId,user:t.userId})},deleteEntry:function(e,t){for(var a=0;a<e.allItems.length;a++)e.allItems[a].id===t.id&&He.delete("http://127.0.0.1:8000/myapp/fooditem/"+t.id)},deleteItems:function(e,t){for(var a=0;a<e.selectItems.length;a++)e.selectItems[a].id===t.id&&e.selectItems.splice(a,1)},deleteOrder:function(e,t){console.log("The id",t.item),He.delete("http://127.0.0.1:8000/myapp/order/"+t.item),alert("Deleted Order !")},SAVE_ITEMS:function(e,t){e.allItems=t.data},USER_ITEMS:function(e,t){e.userItems=t.data},ORDER:function(e,t){e.order=t.data}},actions:{addItem:function(e,t,a){var r=e.commit,n={name:t,id:a};r("complete_add",n)},removeItem:function(e,t){var a=e.commit,r={id:t};a("deleteEntry",r)},setOrder:function(e,t){var a=e.commit,r=t.orderUser,n=t.orderItem,o=t.orderDate,s={userId:r,foodId:n,dateEntry:o};a("orderEntry",s)},deleteItem:function(e,t){var a=e.commit,r={id:t};a("deleteItems",r)},loadItems:function(e){var t=e.commit;He.get("http://127.0.0.1:8000/myapp/fooditem/").then((function(e){return t("SAVE_ITEMS",e)}))},loadSelectedItems:function(e){var t=e.commit;He.get("http://127.0.0.1:8000/myapp/menu/").then((function(e){return t("USER_ITEMS",e)}))},getOrder:function(e){var t=e.commit;He.get("http://127.0.0.1:8000/myapp/order/").then((function(e){return t("ORDER",e)}))},doneOrder:function(e,t){var a=e.commit,r={item:t};a("deleteOrder",r)}},getters:{items:function(e){return e.allItems},userItems:function(e){return e.userItems},order:function(e){return e.order}}}),vt=a("f309");r["a"].use(vt["a"]);var pt=new vt["a"]({});r["a"].config.productionTip=!1,r["a"].prototype.$axios=Ue.a,new r["a"]({router:mt,store:ft,vuetify:pt,render:function(e){return e(_)}}).$mount("#app")}});
//# sourceMappingURL=app.67757945.js.map